<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <!-- ============================================================= -->
    <!-- HEAD: meta, title e estilo principal                          -->
    <!-- ============================================================= -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>HoStore ‚Äî Domine sua loja de TCG</title>

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- ============================================================= -->
    <!-- CSS PRINCIPAL                                               -->
    <!-- Procure por ‚Äú:root‚Äù para editar cores principais rapidamente -->
    <!-- ============================================================= -->
    <style>
      :root {
        --primary: #ff4c60;
        --accent: #45eba5;
        --danger: #ffb400;
        --bg: #0d0d0d;
        --text: #f0f0f0;
        --card: #181818;
      }
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        font-family: "Inter", sans-serif;
      }
      body {
        background: var(--bg);
        color: var(--text);
        overflow-x: hidden;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }
      a {
        color: var(--accent);
        text-decoration: none;
      }
      .container {
        max-width: 1100px;
        margin: 0 auto;
        padding: 0 1rem;
      }
      header {
        padding: 6rem 0 4rem;
        text-align: center;
        position: relative;
      }
      /* CTA */
      .cta-wrap {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 1rem;
        margin-top: 2rem;
        margin-bottom: 4rem; /* antes era 2rem */
      }
      .cta {
        position: relative;
        display: inline-flex;
        align-items: center;
        gap: 0.8rem;
        background: var(--primary);
        padding: 1rem 2.6rem;
        border: none;
        border-radius: 10px;
        font-size: 1.05rem;
        font-weight: 700;
        color: #fff;
        cursor: pointer;
        overflow: hidden;
      }
      .cta:hover {
        transform: scale(1.04);
        transition: transform 0.2s;
      }
      .cta::after {
        content: "";
        position: absolute;
        inset: 0;
        border-radius: 10px;
        animation: pulse 2.5s infinite;
        background: var(--primary);
        filter: blur(20px);
        opacity: 0.5;
        z-index: -1;
      }
      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        70% {
          transform: scale(1.4);
          opacity: 0;
        }
        100% {
          transform: scale(1.4);
          opacity: 0;
        }
      }
      .badge {
        background: rgba(0, 0, 0, 0.25);
        padding: 0.25rem 0.6rem;
        border-radius: 6px;
        font-size: 0.85rem;
        font-weight: 600;
        min-width: 55px;
        text-align: center;
        transition: background 0.3s;
      }
      .badge.low {
        background: var(--danger);
        color: #000;
      }
      .secondary {
        background: var(--card);
        color: #fff;
        border: 1px solid var(--accent);
      }
      .secondary:hover {
        background: var(--accent);
        color: #000;
      }
      .last-call {
        margin-top: 0.4rem;
        font-size: 0.9rem;
        color: var(--danger);
        font-weight: 700;
        display: none;
      }
      /* Feedback  */
      .alert {
        display: none;
        background: var(--card);
        padding: 1rem 1.5rem;
        border-radius: 8px;
        margin-top: 2rem;
        font-size: 1rem;
        opacity: 0;
        animation: fadeIn 0.6s forwards;
      }
      @keyframes fadeIn {
        to {
          opacity: 1;
        }
      }
      /* Features */
      section {
        padding: 4rem 0;
        /* for√ßa visibilidade: removido opacity=0/transforms */
      }
      .features {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 2rem;
        margin-top: 3rem;
      }
      .feature-card {
        background: var(--card);
        padding: 1.8rem;
        border-radius: 10px;
        text-align: center;
        min-height: 180px;
      }
      .feature-card h3 {
        margin: 1rem 0;
        font-size: 1.3rem;
      }
      /* Formul√°rio */
      #formSection {
        display: block; /* üëà Sempre vis√≠vel */
        margin-top: 5rem;
      }

      form {
        background: var(--card);
        padding: 2rem;
        border-radius: 10px;
        max-width: 600px;
        margin: 0 auto;
      }
      label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
      }
      input {
        width: 100%;
        padding: 0.85rem;
        border-radius: 6px;
        border: none;
        background: #2a2a2a;
        color: #fff;
        margin-bottom: 1.3rem;
      }
      button[type="submit"] {
        width: 100%;
        background: var(--accent);
        border: none;
        padding: 1rem;
        border-radius: 8px;
        font-weight: 700;
        cursor: pointer;
        transition: opacity 0.2s;
      }
      button[type="submit"]:hover {
        opacity: 0.9;
      }
      #thankYou {
        display: none;
        text-align: center;
        margin-top: 2rem;
      }
      footer {
        text-align: center;
        color: #777;
        padding: 3rem 0 2rem;
        font-size: 0.85rem;
      }
      html,
      body {
        height: 100%;
      }
      main {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
        margin-top: 70px; /* espa√ßo para header fixo */
      }

      .top-header {
        background: var(--bg); /* fundo igual ao resto da p√°gina */
        border-bottom: 1px solid #222;
        padding: 1rem 0.8rem;
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 999;
      }

      .header-content {
        max-width: 1100px;
        margin: 0 auto;
        display: flex;
        align-items: center;
        gap: 0.75rem;
      }

      .logo {
        height: 32px;
        width: auto;
        border-radius: 6px;
      }

      .brand {
        font-size: 1.15rem;
        font-weight: 700;
        color: #fff;
        letter-spacing: -0.5px;
      }
      .carousel {
        position: relative;
        overflow: hidden;
        max-width: 100%;
        margin: 0 auto;
      }

      .carousel-track {
        display: flex;
        transition: transform 0.4s ease;
        width: 100%;
      }

      .carousel-track img {
        max-width: 100%;
        border-radius: 10px;
        flex: 0 0 100%;
        object-fit: contain;
      }

      .carousel-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: var(--card);
        border: none;
        color: var(--accent);
        font-size: 2rem;
        padding: 0.2rem 0.6rem;
        cursor: pointer;
        z-index: 2;
        opacity: 0.7;
      }
      .carousel-btn:hover {
        opacity: 1;
      }

      .carousel-btn.prev {
        left: 0.5rem;
      }
      .carousel-btn.next {
        right: 0.5rem;
      }
    </style>

    <!-- ============================================================= -->
    <!-- GOOGLE ANALYTICS (GA4)                                       -->
    <!-- Ctrl+F "G-XXXXXXXXXX" para trocar pelo seu Measurement ID    -->
    <!-- ============================================================= -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-R2JH14MRCH"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }

      // Evento de carregamento de p√°gina com timestamp
      window.addEventListener("load", () => {
        gtag("js", new Date());
        gtag("event", "page_load", {
          timestamp: new Date().toISOString(),
        });
        gtag("config", "G-XXXXXXXXXX");
      });

      // Evento de sa√≠da de p√°gina (antes de fechar/atualizar)
      window.addEventListener("beforeunload", () => {
        gtag("event", "page_unload", {
          timestamp: new Date().toISOString(),
        });
      });
    </script>

    <!-- ============================================================= -->
    <!-- GOOGLE TRANSLATE (PT ‚Üí EN/ES)                                  -->
    <!-- Tradu√ß√£o autom√°tica: procura por ‚Äúgoogle_translate_element‚Äù   -->
    <!-- ============================================================= -->
    <script type="text/javascript">
      function googleTranslateElementInit() {
        new google.translate.TranslateElement(
          {
            pageLanguage: "pt",
            includedLanguages: "en,es",
            layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
          },
          "google_translate_element"
        );
      }
    </script>
    <script src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <!-- Meta Pixel Code -->
    <script>
      !(function (f, b, e, v, n, t, s) {
        if (f.fbq) return;
        n = f.fbq = function () {
          n.callMethod
            ? n.callMethod.apply(n, arguments)
            : n.queue.push(arguments);
        };
        if (!f._fbq) f._fbq = n;
        n.push = n;
        n.loaded = !0;
        n.version = "2.0";
        n.queue = [];
        t = b.createElement(e);
        t.async = !0;
        t.src = v;
        s = b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t, s);
      })(
        window,
        document,
        "script",
        "https://connect.facebook.net/en_US/fbevents.js"
      );
      fbq("init", "306670140459065");
      fbq("track", "PageView");
    </script>
    <noscript>
      <img
        height="1"
        width="1"
        style="display: none"
        src="https://www.facebook.com/tr?id=306670140459065&ev=PageView&noscript=1"
      />
    </noscript>
    <!-- End Meta Pixel Code -->
  </head>

  <body>
    <!-- ============================================================= -->
    <!-- CONT√äINER GOOGLE TRANSLATE (Topo direito)                     -->
    <!-- Ctrl+F ‚Äúgoogle_translate_element‚Äù para reposicionar           -->
    <!-- ============================================================= -->
    <div
      id="google_translate_element"
      style="position: fixed; top: 1rem; right: 1rem; z-index: 1000"
    ></div>

    <header class="top-header">
      <div class="container header-content">
        <img src="logo.png" alt="HoStore Logo" class="logo" />
        <span class="brand">HoStore</span>
      </div>
    </header>

    <main>
      <!-- =========================================================== -->
      <!-- HEADER & CTA                                               -->
      <!-- Procure por ‚Äúcta-wrap‚Äù para editar texto do bot√£o          -->
      <!-- =========================================================== -->
      <header class="container">
        <h1>
          O ERP criado exclusivamente para
          <span style="white-space: nowrap">lojas de TCG</span>
        </h1>
        <p>
          Controle de estoque din√¢mico e otimizado, vendas r√°pidas e relat√≥rios
          que realmente importam para sua loja.<br />Voc√™ s√≥ ainda n√£o sabia que
          isso existia.
        </p>

        <div
          class="cta-wrap"
          id="ctaWrap"
          style="gap: 1.5rem; margin-bottom: 2rem"
        >
          <button id="ctaBtn" class="cta">
            Teste 7 Dias Gr√°tis
            <span id="badge" class="badge">--</span>
          </button>
          <div id="lastCall" class="last-call">Garanta as √∫ltimas vagas!</div>
        </div>

        <div id="alertMsg" class="alert">
          7 lojas de TCG j√° garantiram seu acesso beta hoje
        </div>
      </header>

      <!-- =========================================================== -->
      <!-- FEATURES                                                   -->
      <!-- Cards informativos                                          -->
      <!-- =========================================================== -->
      <section class="container">
        <h2 style="text-align: center; font-size: 1.9rem">
          Oferta exclusiva de lan√ßamento
          <span style="color: var(--accent)">‚Äì</span> Desconto vital√≠cio
          <span style="color: var(--accent)">‚Äì</span> Vagas limitadas
        </h2>
        <div class="features">
          <div class="feature-card">
            <h3>‚è±Ô∏è Venda em segundos</h3>
            <p>
              Encontre cartas em segundos, finalize vendas rapidamente.<br />com
              c√°lculo autom√°tico de troco e taxas.
            </p>
          </div>
          <div class="feature-card">
            <h3>üßÆ Fluxo de caixa</h3>
            <p>
              Controle suas vendas, taxas e lucros com relat√≥rios.<br />simplificados
              e feitos especificamente para sua loja.
            </p>
          </div>
          <div class="feature-card">
            <h3>üîç Estoque infal√≠vel</h3>
            <p>
              Registre entradas por pedido e tenha controle absoluto com baixas
              autom√°ticas e alertas antes de faltar produto.
            </p>
          </div>
          <div class="feature-card">
            <h3>üöÄ Atualiza√ß√µes em 1 clique</h3>
            <p>
              Sempre na vers√£o mais poderosa.<br />Voc√™ vende, n√≥s cuidamos do
              resto.
            </p>
          </div>
          <div class="feature-card">
            <h3>üóÇÔ∏è Cat√°logo pensado para TCG</h3>
            <p>
              Organiza√ß√£o inteligente por jogos, cole√ß√µes, boosters e decks.
              Esque√ßa as planilhas confusas, nada de bagun√ßa.
            </p>
          </div>
          <div class="feature-card">
            <h3>üìä Relat√≥rios que importam</h3>
            <p>
              Veja o que mais vende, o que est√° parado e quanto vai entrar.
              Controle de verdade.
            </p>
          </div>
        </div>
      </section>

      <!-- =========================================================== -->
      <!-- CAROUSEL DE IMAGENS                                      -->
      <!-- Mostra o HoStore em a√ß√£o, com imagens reais do sistema     -->
      <!-- =========================================================== -->

      <section class="container" style="margin-top: 4rem">
        <h2
          style="text-align: center; font-size: 1.8rem; margin-bottom: 0.5rem"
        >
          Veja o HoStore em a√ß√£o
        </h2>
        <p
          style="
            text-align: center;
            color: #aaa;
            font-size: 0.95rem;
            margin-bottom: 2rem;
          "
        >
          Interface real do sistema, simples e focada no que importa.
        </p>

        <div class="carousel">
          <button class="carousel-btn prev">‚Äπ</button>
          <div class="carousel-track">
            <img src="dashboard.png" alt="Dashboard HoStore" />
            <img src="estoque.png" alt="Estoque HoStore" />
            <img src="vendas.png" alt="Vendas HoStore" />
          </div>
          <button class="carousel-btn next">‚Ä∫</button>
        </div>
      </section>

      <!-- =========================================================== -->
      <!-- FORMUL√ÅRIO                                                 -->
      <!-- Oculto at√© clicar no CTA                                   -->
      <!-- =========================================================== -->
      <section id="formSection" class="container">
        <form
          id="leadForm"
          action="https://formspree.io/f/xwpblrrb"
          method="POST"
        >
          <h2 style="text-align: center; margin-bottom: 1.5rem">
            Garanta seu desconto e 7 dias gratis no HoStore
          </h2>
          <p
            style="
              color: #999;
              font-size: 0.95rem;
              text-align: center;
              margin-bottom: 1.5rem;
            "
          >
            O HoStore est√° em constante evolu√ß√£o com base no feedback real de
            lojistas.
          </p>

          <label for="loja">Nome da Loja*</label>
          <input type="text" id="loja" name="Loja" required />
          <label for="email">Email*</label>
          <input type="email" id="email" name="Email" required />
          <label for="whats">WhatsApp</label>
          <input
            type="tel"
            id="whats"
            name="WhatsApp"
            placeholder="(xx) xxxxx-xxxx"
          />
          <!-- UTM ocultos -->
          <input type="hidden" id="utm_source" name="utm_source" />
          <input type="hidden" id="utm_medium" name="utm_medium" />
          <input type="hidden" id="utm_campaign" name="utm_campaign" />
          <button type="submit">Receber meu convite exclusivo</button>
        </form>
        <div id="thankYou">
          <h2>üéâ Recebemos seu pedido!</h2>
          <p>
            Voc√™ acaba de garantir um lugar na lista exclusiva de clientes.<br />Fique
            atento: entraremos em contato em breve para liberar seu acesso.
          </p>
        </div>
      </section>
    </main>

    <footer>
      ¬© 2025 HoStore ‚Äì HO Systems ‚Ä¢
      <a href="https://github.com/oDuPrado/HoStore" target="_blank">GitHub</a> ‚Ä¢
      <a href="mailto:contato@hostore.com">Contato</a>
    </footer>

    <!-- ============================================================= -->
    <!-- SCRIPTS: l√≥gica de vagas, CTA, form e tracking extra          -->
    <!-- ============================================================= -->
    <script>
      // 1) For√ßar visibilidade das sections/cards sem scroll
      document
        .querySelectorAll("section")
        .forEach((sec) => sec.classList.add("show"));

      // 2) Vari√°veis DOM
      const badge = document.getElementById("badge");
      const lastCall = document.getElementById("lastCall");
      const alertMsg = document.getElementById("alertMsg");
      const ctaBtn = document.getElementById("ctaBtn");
      // ===========================================================
      // TESTE A/B/C DE TEXTO DO BOT√ÉO CTA
      // ===========================================================
      const variants = [
        "Teste 7 Dias Gr√°tis", // Variante A
        "Garante seu desconto Vitalicio", // Variante B
        "Quero testar o HoStore", // Variante C
      ];
      const variant = variants[Math.floor(Math.random() * variants.length)];
      ctaBtn.textContent = variant;

      // Rastreia varia√ß√£o exibida no GA4
      gtag("event", "cta_variant", {
        variant,
        timestamp: new Date().toISOString(),
      });

      const ctaWrap = document.getElementById("ctaWrap");
      const formSection = document.getElementById("formSection");
      const leadForm = document.getElementById("leadForm");
      const params = new URLSearchParams(window.location.search);

      // 3) Fun√ß√µes de vagas
      function animateCount(from, to) {
        let current = from,
          step = from > to ? -1 : 1;
        const interval = setInterval(() => {
          current += step;
          badge.textContent =
            current + " " + (current === 1 ? "vaga" : "vagas");
          if (current === to) clearInterval(interval);
        }, 70);
      }
      function updateBadgeDisplay(vagas) {
        badge.textContent = vagas + " " + (vagas === 1 ? "vaga" : "vagas");
        if (vagas < 5) {
          badge.classList.add("low");
          lastCall.textContent = !closed
            ? "Garanta as √∫ltimas vagas!"
            : "As vagas se esgotaram. Entre na fila de espera.";
          lastCall.style.display = "block";
        } else {
          badge.classList.remove("low");
          lastCall.style.display = "none";
        }
      }

      // 4) Inicializa vagas
      let vagas = parseInt(localStorage.getItem("vagas")),
        closed = localStorage.getItem("closed") === "true";

      if (isNaN(vagas)) {
        vagas = Math.floor(Math.random() * 50) + 1;
        localStorage.setItem("vagas", vagas);
      }

      if (!closed) {
        const previous = vagas;
        vagas = Math.max(1, vagas - 3);
        localStorage.setItem("vagas", vagas);

        if (vagas === 1) {
          // exibe ‚Äú1 vaga‚Äù antes de fechar
          updateBadgeDisplay(vagas);
          closeSlots();
        } else {
          animateCount(previous, vagas);
          // atualiza√ß√£o de estado logo em seguida
          updateBadgeDisplay(vagas);
        }
      } else {
        badge.textContent = "Encerrado";
        badge.classList.add("low");
        transformToWaitlist();
      }

      // continua auto-alert e auto-close
      if (vagas >= 30)
        setTimeout(() => (alertMsg.style.display = "block"), 45000);
      if (vagas <= 2 && !closed)
        setTimeout(() => {
          if (!closed) closeSlots();
        }, 90000);

      function closeSlots() {
        closed = true;
        localStorage.setItem("closed", "true");
        badge.textContent = "Encerrado";
        badge.classList.add("low");
        transformToWaitlist();
      }
      function transformToWaitlist() {
        ctaBtn.textContent = "Garantir meu desconto vital√≠cio";
        ctaBtn.classList.add("secondary");
        if (!document.getElementById("waBtn")) {
          const waBtn = document.createElement("a");
          waBtn.id = "waBtn";
          waBtn.href = "https://wa.me/5567999527376";
          waBtn.target = "_blank";
          waBtn.textContent = "Falar com o Suporte";
          waBtn.setAttribute("aria-label", "Falar com o Suporte via WhatsApp");
          waBtn.className = "cta secondary";
          waBtn.addEventListener("click", () => {
            gtag("event", "click", {
              event_category: "cta",
              event_label: "whatsapp_support",
              timestamp: new Date().toISOString(),
            });
          });
          ctaWrap.appendChild(waBtn);
        }
      }

      // 5) A√ß√µes do CTA principal (corrigido)
      ctaBtn.addEventListener("click", () => {
        // rastreia clique
        gtag("event", "cta_click", {
          event_category: "cta",
          event_label: closed ? "waitlist_cta" : "hero_cta",
          variant,
          timestamp: new Date().toISOString(),
        });
        fbq("track", "ViewContent");

        // for√ßa exibir o formSection mesmo se algum CSS estiver bloqueando
        formSection.style.removeProperty("display");
        formSection.style.setProperty("display", "block", "important");

        console.log("Formul√°rio exibido, display =", formSection.style.display);
        formSection.scrollIntoView({ behavior: "smooth" });
      });

      // 6) UTM passthrough
      ["utm_source", "utm_medium", "utm_campaign"].forEach((p) => {
        if (params.get(p)) document.getElementById(p).value = params.get(p);
      });

      // 7) Rastreio de form_start
      leadForm.addEventListener(
        "focusin",
        (e) => {
          if (e.target.tagName === "INPUT") {
            gtag("event", "form_start", {
              event_category: "form",
              event_label: "init_form",
              timestamp: new Date().toISOString(),
            });

            fbq("track", "InitiateCheckout");
          }
        },
        { once: true }
      );

      // 8) Submiss√£o de formul√°rio + lead_submitted
      leadForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        const data = new FormData(leadForm);
        try {
          await fetch(leadForm.action, {
            method: "POST",
            body: data,
            headers: { Accept: "application/json" },
          });
          gtag("event", "lead_submitted", {
            event_category: "form",
            event_label: closed ? "waitlist_form" : "interest_form",
            variant,
            timestamp: new Date().toISOString(),
          });
          fbq("track", "Lead");

          leadForm.style.display = "none";
          document.getElementById("thankYou").style.display = "block";
        } catch (err) {
          alert("Erro ao enviar. Tente novamente mais tarde.");
        }
      });

      const formObserver = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              gtag("event", "view_form", {
                event_category: "form",
                event_label: "form_visible",
                timestamp: new Date().toISOString(),
              });
              fbq("trackCustom", "FormVisible");

              formObserver.disconnect(); // s√≥ rastreia uma vez
            }
          });
        },
        { threshold: 0.5 }
      );

      formObserver.observe(formSection);

      // Carrossel simples de imagens
      const track = document.querySelector(".carousel-track");
      const slides = Array.from(track.children);
      const prevBtn = document.querySelector(".carousel-btn.prev");
      const nextBtn = document.querySelector(".carousel-btn.next");
      let currentIndex = 0;

      function updateCarousel() {
        const slideWidth = slides[0].getBoundingClientRect().width;
        track.style.transform = `translateX(-${currentIndex * slideWidth}px)`;
      }

      function trackCarouselEvent(type) {
        const currentSlide = slides[currentIndex];
        const imageName =
          currentSlide.getAttribute("alt") || `slide_${currentIndex}`;
        gtag("event", type, {
          event_category: "carousel",
          event_label: imageName,
          timestamp: new Date().toISOString(),
        });
      }

      nextBtn.addEventListener("click", () => {
        currentIndex = (currentIndex + 1) % slides.length;
        updateCarousel();
        trackCarouselEvent("carousel_next");
      });

      prevBtn.addEventListener("click", () => {
        currentIndex = (currentIndex - 1 + slides.length) % slides.length;
        updateCarousel();
        trackCarouselEvent("carousel_prev");
      });

      // rastreia a primeira exibi√ß√£o
      trackCarouselEvent("carousel_view");
    </script>
  </body>
</html>
